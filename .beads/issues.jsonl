{"id":"digihub-chatbot-0yh","title":"Increase chunk size and overlap parameters","description":"**Type:** enhancement","acceptance_criteria":"- [ ] Increase chunk size to 1500-2000 tokens\n- [ ] Increase overlap to 150-200 tokens\n- [ ] Consider adaptive chunking based on document structure\n- [ ] Use semantic boundaries rather than just token counts\n\n---","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-04T10:58:34.266845+05:30","updated_at":"2026-02-04T13:01:59.517301+05:30","closed_at":"2026-02-04T13:01:59.517301+05:30","close_reason":"Increased chunk size from 1000 to 1500 tokens and overlap from 100 to 150 tokens in both config.py (default values) and chunking_params.py enum","labels":["data-pipeline","medium"]}
{"id":"digihub-chatbot-111","title":"Add validChunk field to uploaded chunks","description":"**Type:** bug","acceptance_criteria":"- [ ] Add validChunk = \"yes\" to document structure\n- [ ] Implement chunk validation logic\n- [ ] Run migration script for existing chunks\n\n---","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-04T10:58:34.263881+05:30","updated_at":"2026-02-04T12:22:57.755895+05:30","closed_at":"2026-02-04T12:22:57.755897+05:30","labels":["critical","data-pipeline","schema"]}
{"id":"digihub-chatbot-5ho","title":"Fix image path backslash to forward slash","description":"**Type:** bug","acceptance_criteria":"- [ ] Change backslash to forward slash in path replacement\n- [ ] Test image rendering in markdown output\n\n---","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-04T10:58:34.267832+05:30","updated_at":"2026-02-04T13:07:35.720939+05:30","closed_at":"2026-02-04T13:07:35.720939+05:30","close_reason":"Changed backslash to forward slash in image path replacement (lines 453 and 503) for proper cross-platform markdown image rendering","labels":["data-pipeline","low"]}
{"id":"digihub-chatbot-6jf","title":"Add relevance filtering before response generation","description":"**Type:** enhancement","acceptance_criteria":"- [ ] Call RelevanceJudge.judge_chunks_relevance() after retrieval\n- [ ] Filter out non-relevant chunks before response generation\n- [ ] Log filtered chunks for debugging\n- [ ] Consider using relevance scores to weight chunks\n\n---\n\n# Medium Priority Issues","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-04T10:58:34.265764+05:30","updated_at":"2026-02-04T12:53:47.389712+05:30","closed_at":"2026-02-04T12:53:47.389716+05:30","labels":["high","query-pipeline"]}
{"id":"digihub-chatbot-7z2","title":"Increase session context window from 1 to 5 messages","description":"**Type:** enhancement","acceptance_criteria":"- [ ] Increase context window to 5 recent Q\u0026A pairs\n- [ ] Make window size configurable via environment variable\n- [ ] Consider intelligent context selection based on relevance\n\n---","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-04T10:58:34.264651+05:30","updated_at":"2026-02-04T12:53:46.765512+05:30","closed_at":"2026-02-04T12:53:46.765521+05:30","labels":["high","query-pipeline"]}
{"id":"digihub-chatbot-aqk","title":"Add questionsEmbedding field to data pipeline","description":"**Type:** bug","acceptance_criteria":"- [ ] Generate synthetic questions for each chunk using LLM\n- [ ] Create questionsEmbedding from concatenated questions\n- [ ] Store both embedding and questionsEmbedding in document\n- [ ] Add questions array field for debugging\n\n---","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-04T10:58:34.263235+05:30","updated_at":"2026-02-04T12:22:57.576868+05:30","closed_at":"2026-02-04T12:22:57.576872+05:30","labels":["critical","data-pipeline","schema"]}
{"id":"digihub-chatbot-aut","title":"Implement metadata-based filtering in retrieval","description":"**Type:** enhancement","acceptance_criteria":"- [ ] Store metadata fields in chunks during indexing\n- [ ] Pass extracted metadata from query analyzer to retrieval\n- [ ] Add metadata filters to CosmosDB query\n- [ ] Implement fallback to unfiltered query if no results\n\n---","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-04T10:58:34.266247+05:30","updated_at":"2026-02-04T13:01:59.924425+05:30","closed_at":"2026-02-04T13:01:59.924425+05:30","close_reason":"Implemented metadata-based filtering in retrieval with ENABLE_METADATA_FILTERING config flag, supporting contentType and year filters from query analyzer","labels":["medium","query-pipeline"]}
{"id":"digihub-chatbot-boj","title":"Implement proper context formatting for LLM","description":"**Type:** enhancement","acceptance_criteria":"- [ ] Format context as structured markdown or numbered sections\n- [ ] Include clear labels for each chunk (source file, section heading)\n- [ ] Use proper JSON formatting if structure is needed\n\n---","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-04T10:58:34.265051+05:30","updated_at":"2026-02-04T12:53:47.052726+05:30","closed_at":"2026-02-04T12:53:47.05273+05:30","labels":["high","query-pipeline"]}
{"id":"digihub-chatbot-btu","title":"Remove duplicate translation key in JSON schema","description":"**Type:** bug","acceptance_criteria":"- [ ] Remove duplicate key\n- [ ] Consolidate instruction into one clear definition\n\n---","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-04T10:58:34.268125+05:30","updated_at":"2026-02-04T13:07:18.121267+05:30","closed_at":"2026-02-04T13:07:18.121267+05:30","close_reason":"Consolidated duplicate 'translation' keys in LANGUAGE_DETECTION_TEMPLATE JSON schema into single clear definition","labels":["low","query-pipeline"]}
{"id":"digihub-chatbot-dww","title":"Add chunk quality validation in data pipeline","description":"**Type:** enhancement","acceptance_criteria":"- [ ] Implement minimum content length validation (\u003e50 tokens)\n- [ ] Check for meaningful content beyond just headers\n- [ ] Detect and filter duplicate/near-duplicate chunks\n- [ ] Set validChunk = \"no\" for low-quality chunks\n\n---\n\n# Low Priority Issues","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-04T10:58:34.267522+05:30","updated_at":"2026-02-04T13:03:45.919099+05:30","closed_at":"2026-02-04T13:03:45.919099+05:30","close_reason":"Implemented chunk quality validation with: 1) Token-based minimum content check (MIN_TOKEN_COUNT=50 tokens), 2) Header-only content detection, 3) Exact duplicate detection using content hash, 4) Near-duplicate detection using Jaccard similarity (threshold=0.85), 5) Placeholder content detection. Added reset_duplicate_tracking() called per-file in dataprocessor.","labels":["data-pipeline","medium"]}
{"id":"digihub-chatbot-f1v","title":"Improve citation processing code pattern","description":"**Type:** enhancement","acceptance_criteria":"- [ ] Make modification pattern explicit by reassigning result\n- [ ] Add return statement and capture it\n\n---","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-04T10:58:34.268471+05:30","updated_at":"2026-02-04T13:08:11.364446+05:30","closed_at":"2026-02-04T13:08:11.364446+05:30","close_reason":"Fixed citation processing pattern: explicitly capture return value from _process_citations() and reassign to structured_response. Updated docstring to clarify return value usage.","labels":["low","query-pipeline"]}
{"id":"digihub-chatbot-pvl","title":"Fix validChunk filter causing retrieval failures","description":"**Type:** bug","acceptance_criteria":"- [ ] Make filter conditional based on field existence\n- [ ] Add fallback query without filter if no results\n- [ ] Log when chunks are filtered by this condition\n\n---\n\n# High Priority Issues","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-04T10:58:34.264281+05:30","updated_at":"2026-02-04T12:26:37.047165+05:30","closed_at":"2026-02-04T12:26:37.047169+05:30","labels":["critical","query-pipeline","retrieval"],"dependencies":[{"issue_id":"digihub-chatbot-pvl","depends_on_id":"digihub-chatbot-111","type":"blocks","created_at":"2026-02-04T10:59:26.201899+05:30","created_by":"zohaibtanwir"}]}
{"id":"digihub-chatbot-sr0","title":"Implement structured out-of-scope detection","description":"**Type:** enhancement","acceptance_criteria":"- [ ] Add dedicated is_out_of_scope boolean to LLM response schema\n- [ ] Use confidence score thresholds as additional signal\n- [ ] Implement fuzzy matching or semantic similarity\n- [ ] Return structured response with explicit scope classification\n\n---","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-04T10:58:34.267171+05:30","updated_at":"2026-02-04T13:01:51.528495+05:30","closed_at":"2026-02-04T13:01:51.528495+05:30","close_reason":"Implemented structured out-of-scope detection with multiple signals: 1) Explicit is_out_of_scope boolean from LLM response schema, 2) Confidence score threshold (configurable via OUT_OF_SCOPE_CONFIDENCE_THRESHOLD, default 0.4), 3) Text-based matching fallback, 4) Generic type with low confidence check","labels":["medium","query-pipeline"]}
{"id":"digihub-chatbot-srv","title":"Split monolithic query analyzer prompt","description":"**Type:** enhancement","acceptance_criteria":"- [ ] Split into focused prompts for different concerns\n- [ ] Use smaller/faster models for simple tasks\n- [ ] Chain prompts with early exit conditions\n- [ ] Use structured output schemas (JSON mode) for each\n\n---","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-02-04T10:58:34.265408+05:30","updated_at":"2026-02-04T12:51:20.51799+05:30","labels":["high","query-pipeline"]}
{"id":"digihub-chatbot-uq3","title":"Enable hybrid re-ranking in retrieval service","description":"**Type:** bug","acceptance_criteria":"- [ ] Uncomment hybrid scoring code block (lines 324-358)\n- [ ] Ensure hybrid score properly weights question vs content similarity\n- [ ] Implement minimum question similarity threshold\n- [ ] Add logging for retrieval quality metrics\n\n---","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-04T10:58:34.261422+05:30","updated_at":"2026-02-04T12:26:37.232917+05:30","closed_at":"2026-02-04T12:26:37.23292+05:30","labels":["critical","query-pipeline","retrieval"],"dependencies":[{"issue_id":"digihub-chatbot-uq3","depends_on_id":"digihub-chatbot-aqk","type":"blocks","created_at":"2026-02-04T10:59:25.837839+05:30","created_by":"zohaibtanwir"},{"issue_id":"digihub-chatbot-uq3","depends_on_id":"digihub-chatbot-111","type":"blocks","created_at":"2026-02-04T10:59:26.013347+05:30","created_by":"zohaibtanwir"}]}
{"id":"digihub-chatbot-whj","title":"Add comprehensive logging and monitoring","description":"**Type:** enhancement","acceptance_criteria":"- [ ] Add retrieval quality metrics logging\n- [ ] Log similarity scores for all retrieved chunks\n- [ ] Add latency tracking for each pipeline stage\n- [ ] Implement health check endpoints with detailed status","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-04T10:58:34.268758+05:30","updated_at":"2026-02-04T13:10:11.558734+05:30","closed_at":"2026-02-04T13:10:11.558734+05:30","close_reason":"Added comprehensive logging and monitoring: 1) Created src/utils/metrics.py with RetrievalMetrics, LatencyTracker, PipelineMetrics classes, 2) Added /actuator/health/detailed endpoint with CosmosDB and Azure OpenAI status checks and config reporting, 3) Integrated RetrievalMetrics.log_chunk_scores() for all retrieved chunks, 4) Added RetrievalMetrics.log_filtering_results() for threshold and relevance filtering","labels":["low","observability"]}
{"id":"digihub-chatbot-xkz","title":"Add minimum similarity threshold for retrieval","description":"**Type:** enhancement","acceptance_criteria":"- [ ] Set meaningful default threshold (0.3-0.4)\n- [ ] Make threshold configurable via environment variable\n- [ ] Log similarity scores for quality monitoring\n- [ ] Consider adaptive thresholds based on query type\n\n---","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-04T10:58:34.266544+05:30","updated_at":"2026-02-04T13:01:59.720443+05:30","closed_at":"2026-02-04T13:01:59.720443+05:30","close_reason":"Added MIN_SIMILARITY_THRESHOLD config (default 0.35) for retrieval quality control with logging of top 5 hybrid scores","labels":["medium","query-pipeline"]}
